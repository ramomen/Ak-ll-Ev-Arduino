

Teknik Dokümantasyon

 ve Proje Raporu

İçindekiler



* Proje anlatımı
* Malzeme listesi ve fiyatlandırmaları
* Proje aşamaları
* Projenin yazılımı

Docs : https://docs.google.com/document/d/e/2PACX-1vT8xrekELWpz3RT1o79PtWd2CFjrs1l-9J9wc1T1Cdj-bt-XCnOa0sxyLDKDGcM3zCwvUkIHXFRnNx-/pub

Web Site:

https://akillievim.tech/

Ramazan Değirmenci 21856255

İsmail Burak Akdoğan 21855608

Bünyamin Korkmaz 21984268

**Projenin Anlatımı**

Projemizde akıllı ev sistemlerini baz alarak arduino mega  üzerinde wifi modülü kullanarak telefon üzerinde oluşturacağımız aplikasyon ile evimizde bulunan perde, kapı, ışıklandırma ve vantilatör gibi ürünleri tek tık ile çalıştırıp devre dışı bırakabileceğiz. Yaptığımız işlemleri de lcd ekranımızdan görerek nelerin açık yada çalışır olduğunu görebileceğiz.

Projede Kullanılan Malzemeler ve Fiyat Listesi



* Arduino Mega (80 Türk Lirası)
* Ledler (adet: 0.16 Türk Lirası)
* Breadboard (13 Türk Lirası)
* Jumper kablolar( 80 adet: 10 Türk Lirası)
* Servo motor ( adet: 12,85 Türk Lirası)
* Bluetooth modülü HC-06 (17,32 Türk Lirası)
* ESP8266 WiFi modülü (29,91 Türk Lirası)
* Test aşamaları için arduino uno klon (55 Türk Lirası)

[TOC]



**Haftalık Rapor**

Tarih: 18.12.2020

Arkadaşlarımız ile toplanıp nasıl bir proje yaparsak çevremize yararlı olacağını aynı zamanda da bizim kişisel problemlerimizi çözecek bir proje olarak düşündüğümüz akıllı ev projesi yapacağız.

Tarih: 20.12.2020

Karar verdiğimiz akıllı ev projemiz hakkında bu projelerin daha önce yapılmış olanlarını inceleyip bunların geliştirilebilir yönlerini tartıştık. İncelediğimiz projelerden fikirlerde alarak ufak bir malzeme listesi çıkardık.

Tarih:**21.12.2020**

Bir arkadaşımız yarın ameliyat olacağından son bir kez projemiz için ufak çaplı araştırmalar yaptık ve tamamladığımızı düşündüğümüz malzeme listesindeki eksik ürünlerin siparişlerini verdik. 

Tarih:**23.12.2020**

Maketimizin alt yapısını oluşturmaya başladık ürünlerimiz yavaş yavaş gelmekte lakin wifi modülü kullanmayı planladığımız için sanırım arduino mega almak zorunda kalacağız.

Tarih: 24.12.2020

Devremizin kurulumunu arduino mega üzerinden yaparak riske girmek istemedik uno üzerinde kurulum yaptığımızda sebebini bilmediğimiz bir şekilde unomuz yandı anladığımız kadarıyla.

Tarih: 25.12.2020

İnternet üzerinden yaptığımız araştırmalar sonucu yaptığımız devrenin bir benzerini bulduk.Örnek bir şema olarak bu dosyayı inceledik.

Tarih: 28.12.2020

Devremizin uzaktan kontrolü için ufak bir test aşaması yaparak wifi modülü yerine bluetooth modulü bağladık ve telefonumuzdan kontrol edebileceğimiz bir test aplikasyonu hazırladık.

Tarih: 01.01.2021

Ufak çaplı testler yaparak malzemeleri test etmeye çalıştık lakin servo motorumuzun yetersiz güç gelmesinden dolayı çalışmadığını fark ettik. Diğer malzemelerimizi ayrı ayrı test ettiğimizde çalıştıklarını gördük.

Tarih: 03.01.2021

Esp8266 modulüyle yaptığımız uzun uğraşlar sonucu bir ilerleme kaydedemedik ne yaparsak yapalım bağlantı sorununu çözemedik hala üzerinde çalışıyoruz bi yandan kurucağımız devremizi eve nasıl entegre edeceğimizi deniyoruz.

Tarih: 04.01.2021

Wifi ile ilgili sorunumuzu hala çözemedik bizde riske girmemek adına bluetooth modülümüzü bağlayarak devremizi çalıştırmayı denedik lakin önceden çalıştırdığımız halde bu sefer bluetooth modülümüzdede hatalarla karşılaştık.

Tarih: 05.01.2021

Bluetooth modülünün yeterli enerji almadığını fark ettik ek olarak bir enerji bağladığımızda çalıştı lakin bu seferde yaptığımız aplikasyonda bir hata ile karşılaştık yeniden düzenleyerek sorunu gidermeye çalışacağız.

Tarih: 07.01.2021

Bluetooth modülümüzü ve aplikasyonumuzun hatalarını düzelttik lakin testler sırasında perdenin bağlı olduğu servo motorumuz yandı siparişini bugün verdik aynı zamanda wifi modülümüzün yerine ethernet modülü kullanmaya karar verdik siparişlerimiz hızlı gelirse onlarıda ayarlayıp sunumumuza hazır olması için evimizi kaplıyacağız.

Tarih: 08.01.2021

Bugün malzemelerimiz gelmediği için bluetooth modülü üzerinden bağladığımız devremizi ve aplikasyonumuzun son testlerini yaptık lakin bu seferde lcd ekranımızda voltajdan dolayı  sorun çıkmaya başladı besleme konusunda elimizde olmayan sebeplerden dolayı ardı arkası kesilmeyen sorunlar silsilesi yaşıyoruz. Yarın sabah erkenden kalkarak bu sorunları da halletmeye çalışacağız. 

Tarih: 09.01.2021

Sabah erkenden kalkarak Devremizin testlerini yaptık kapımız, fanımız ve ışığımız çalışıyor ancak lcd ekranla ilgili sorunu çözemediğimizden yapılan işlemler aplikasyonumuzda görünecek şekilde ayarlandı.

**Video Linklerimiz**

[https://youtu.be/QxTAty8ymeE](https://youtu.be/QxTAty8ymeE)   [https://youtu.be/ymRaUKDKRdo](https://youtu.be/ymRaUKDKRdo)

[https://youtu.be/IvLTwqYD-W4](https://youtu.be/IvLTwqYD-W4) [https://akillievim.tech/video](https://akillievim.tech/video) https://youtu.be/tocgXoIwRHA



# Arduino Source Code Bluetooth Version


```
#include <Servo.h> 
#include <math.h> 

Servo myservo;
char veri;
int fan = 3;
int aydinlatma = 13; 

void setup() {
  // Kurulum

  myservo.attach(9);
  myservo.write(0);
  pinMode(fan, OUTPUT);
  pinMode(aydinlatma, OUTPUT);

  Serial.begin(9600);

}

void loop() {
  veri = Serial.read(); // Bluetooth'dan Gelen Değeri Veri Değişkenine Ata


//Kapı kontrol

  // Gelen Değer 3 İse kapıyı açacak
  if(veri=='3'){
     Serial.print("kapı açılacak");
    myservo.write(90);
  }

  //Gelen Değer 4 İse kapıyı kapatacak

  if(veri=='4'){
    Serial.print("kapı kapanacak");
    myservo.write(10);

  }
  if(veri=='5'){
    Serial.print("Klima Devrede");
    digitalWrite(fan, HIGH);
  }

  //Gelen Değer 6 İse Fanı Kapat
  if(veri=='6'){
    
    Serial.print("Klima Kapali");
    digitalWrite(fan, LOW);
  }
  
  if(veri=='0'){
    
    Serial.print("Aydınlatmalar Kapaniyor..");
    digitalWrite(aydinlatma, LOW);

  }
  
  // Gelen Değer 1 İse Aydınlatmaları Aç
  if(veri=='1'){
    
    Serial.print("Aydınlatmalar Aciliyor..");
    digitalWrite(aydinlatma, HIGH);


  }

 
}


```








Tarih: 10.01.2021

Yapacağımız geliştirme üzerine ethernet modülü kullanacağımızdan siparişimiz gelene kadar boş durmamak adına sitemizi([https://akillievim.tech/](https://akillievim.tech/)) güncelleyip site üzerinden kontrol panelimizi geliştirdik.

Tarih: 11.01.2021

Test aşamasını hızlandırmak adına ethernet modülümüz geldiğinde rahatça test edebilmek için örnek kodlar yazdık hala siparişimizin elimize ulaşmasını bekliyoruz.

Tarih: 12.01.2021

Geliştirme olarak tercih ettiğimiz ethernet modülü elimize bu gün ulaştı testlerini yapmak için elimizden geldiğince hızlı davranmaya çalışıyoruz lakin staj evrakları olsun diğer sınavlarımız olsun çok kısıtlı vakitte yetiştirmeye çalışacağız.


# Akıllı Ev Web Servisi

İstenilen geliştirilmeye yönelik Arduino Mega ve Ethernet Shield Modülü kullanarak sistemi oluşturmaya karar verdik. Gerekli parçaları temin ettikten sonra Teleduino Framework’ü kullanarak oluşturduğumuz AkıllıEvim.tech adresindeki Yönetim Paneli kısmına paneli oluşturmaya başladık. Test aşamalarımız sonrasında hızlıca entegrasyon sürecine girdik.

             Mevcut Yönetim Paneli : [https://akillievim.tech/yonetim-paneli](https://akillievim.tech/yonetim-paneli)

Projenin Son haliyle Alakalı video: [https://akillievim.tech/video](https://akillievim.tech/video)

Tam Kaynak Kodlarımıza erişmek için: https://akillievim.tech/opensource


# JavaScript ve HTML  Çalışma Prensibi Kodları


```
<center><button onclick="ledac()">Aydınlatma Aç</button>
<button onclick="ledkapa()">Aydınlatma Kapat</button></center>
<script>



function ledac(){
 fetch('https://us01.proxy.teleduino.org/api/1.0/2560.php?k=6E183E6D9A5A46B89BEDA09007273AAD&r=definePinMode&pin=7&mode=1')
  .then(response => response.json())
  .then(data => console.log(data)); 
}


function ledkapa(){
 fetch('https://us01.proxy.teleduino.org/api/1.0/2560.php?k=6E183E6D9A5A46B89BEDA09007273AAD&r=definePinMode&pin=7&mode=0')
  .then(response => response.json())
  .then(data => console.log(data));
}

</script>
```



# İstenilen Geliştirme

Öğretmenimiz Ramazan Yaşar bizim yaptığımız bluetooth modülünü geliştirip ethernet modülüyle geliştirmemizi istemişti lakin kargonun geç gelmesi ve üzerine staj dosyaları, diğer finallerinde başlamasıyla birlikte iletişim kopukluğu ve teknik sorunlar yaşadık bu yüzden eklememizi hızlı bir şekilde yapamadık.Tam Kararlı olmasada Nesnelerin İnterneti Bazında projeyi tamamladık. Elimizden geldiği gibi bluetooth modulü ile akıllı ev sistemimizi oluşturduk. Sonuç olarak Akıllı Ev sistemimizi Hep Bluetooth hemde Cloud olarak kullanımını sağladık.
